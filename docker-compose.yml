version: '2'
services:
  web:
    image: web-dev-i
    build:
      context: web/
      dockerfile: ../.docker/web/Dockerfile.dev
    ports:
     - "3000:3000"
    volumes:
     - ./web:/usr/app
     - /usr/app/node_modules
    container_name: phoenix.web.sema.local
  pg:
    image: postgres:11
    ports:
     - "5432:5432"
    volumes:
     - ~/docker/volumes/postgres:/var/lib/postgresql/data/
    container_name: phoenix.pg.sema.local
networks:
  default:
    external:
      name: pgnetwork
